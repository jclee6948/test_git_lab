{"markdown":"# Hospital Readmission Prediction for diabetic Patients\n## Introduction\nAccording to a [study](https://clindiabetesendo.biomedcentral.com/articles/10.1186/s40842-016-0040-x), every one  in ten patient is suffering with Diabetes and diabetes has higher chances of hospitalisations. Because of which CMS introduced many programs to reduce hospitalizations and readmissions. e.g. [Hospital Readmission Reduction Program](https://www.cms.gov/Medicare/Quality-Initiatives-Patient-Assessment-Instruments/Value-Based-Programs/HRRP/Hospital-Readmission-Reduction-Program)\n\nHospital Readmission Prediction model  focusses on assessing the risk of hospital readmissions within 30 days of discharge and factors affecting readmissions in diabetic patients. The model analyses various features such as patients medical records, admission details, discharge details, lab test results, types of diagnoses, time in hospital, payer type etc. to predict probability of readmission in diabetic patients. \n\n\n**Tip:** Download the PDF of these instructions from the Data assets section on the **Assets** page so you can keep these instructions open while you work.\n\n- [Instructions](#instructions)\n- [Sample data assets](#data-assets)\n- [Notebooks](#notebooks)\n- [R Shiny dashboard](#dashboard)\n- [Sample business glossary](#glossary)\n\n<a id=\"instructions\"></a>\n## Instructions\n\nFollow these steps to implement the industry accelerator:\n1. Navigate to the **Assets** tab and scroll to the **Notebooks** section.\n2. Edit the  **1-data-preprocessing** notebook by clicking the edit icon that looks like a vertical ellipsis next to the notebook name. This notebook loads the diabetes data and patients data and merges them and then cleans and prepares training data, and saves it for model training. \nAlternatively, you can run the notebook from the `Jobs` tab by executing **1-data-preprocessing-notebook-job** .\n\n3. Edit and run the **2-model-training-and-deployment** notebook. This notebook transforms the data, builds machine learning models, and deploys a model. \nAlternatively, you can run the notebook from the `Jobs` tab by executing **2-model-training-and-deployment-notebook-job** .\n\n4. Edit and run the **3-shiny-app-deployment** notebook.  This notebook deploys r-shiny dashboard. It also generates a URL to launch the r-shiny dashboard.\nAlternatively, you can run the notebook from the `Jobs` tab by executing **3-shiny-app-deployment-notebook-job** .\n\n5. Launch the r-shiny dashboard from one of the following ways.\n    - Open the URL generated by deploying r-shiny dashboard in **3-shiny-app-deployment** notebook. \n    - Alternatively, navigate to **Deployments -> Spaces -> Hospital Readmission Prediction Space -> Deployments -> hospital-readmission-prediction-Shiny-App** to find the URL of deployed r-shiny dashboard and open it in a new tab.\n    - To, run the dashboard from RStudio console by completing these steps: <br>\n     i. Download the `hospital-readmission-prediction-analytics-dashboard.zip` file from the Data assets section of the **Assets** page. If you don't see the file, click **View All** to display the full list of assets.<br>\n     ii. Click **Launch IDE > RStudio** on the menu bar. <br>\n     iii. In the **Files** pane, select the **Upload** toolbar button and upload the `hospital-readmission-prediction-analytics-dashboard.zip` file into RStudio.<br>\n     iv. Select the `app.R` file, and click the **Run App** toolbar button to launch the dashboard. If you see a warning message that certain packages are not installed, you can ignore it because the packages will be installed first time you run the app. <br>\n\n6. Once the app has launched, you can use button on Patient View tab of the dashboard to predict readmission probability for the patient.\n\n7. Edit and run the **4-monitor-wml-model-with-Watson-OpenScale** notebook. This notebook sets up and configures OpenScale, creates a data mart for the model with Watson OpenScale and configures OpenScale to monitor that deployment. It also injects records and measurements for viewing in the OpenScale insights dashboard.\n\n8. Optional. To connect the data assets used in this accelerator to the business terms in Watson Knowledge Catalog, you can edit and run the **0-map-business-terms-to-data-headers** notebook. Enter the authentication details required in the first few cells. \n\n\n<a id=\"data-assets\"></a>\n## Sample data assets\nThese sample data files that act as dimensional and fact tables are included in the project on the **Assets** page:\n\n- `diabetic_data`: The data from [UCI repo](https://archive.ics.uci.edu/ml/datasets/Diabetes+130-US+hospitals+for+years+1999-2008#). The data contains individual patient admission and readmission records, patients medical records, admission details, discharge details, lab test results, types of diagnoses, time in hospital, payer type etc.   <br>\n- `patient-data.csv`: Patient number with mocked up first name and last name of patients.   <br>\n\n Additionally, there are other datasets created via the analytics project :   <br>\n- `training-data.csv`:  The above two datasets are merged, cleaned and mapped against original values to produce a dataset with one record per patient indicating whether he is readmitted or not in the notebook `1-data-preparation`. The prepared dataset is called `training-data.csv`.   <br>\n- `explanation-results.csv`: Data explaining the openscale results. \n\n\n<a id=\"notebooks\"></a>\n## Notebooks\nFollow the instructions in the notebooks to step through the execution. <br>\n- **1-data-preprocessing**: This notebook performs the following functions: \n    - Loads datasets\n    - Merges the datasets\n    - Analyse the columns, create mappings to column values\n    - Filter the data\n    - Save the result <br>\n\n- **2-model-training-and-deployment**: This notebook performs the following functions:  \n    - Load training data\n    - Analyze and visualize the data\n    - Handle correlation and categorical features\n    - Build ML models\n    - Select the best performing ML model and save it\n    - Analyse feature importance and explaination of the model\n    - Store the model in the deployment space and deploy the model <br>\n- **3-shiny-app-deployment** : This notebook performs the following functions: \n    - Get the deployment space \n    - Store and deploy R Shiny app\n    - Generate URL to view the app.<br>\n- **4-monitor-wml-model-with-Watson-OpenScale**: This optional notebook performs the following functions: \n\n    - Get the model and deployments\n    - Configure OpenScale, Create/Setup datamart\n    - Score the model to configure monitors    - Quality monitoring and feedback logging    - Configure Fairness monitoring for detection of model bias\n    - Configure Explainability features <br>\n- **0-map-business-terms-to-data-headers**: This optional notebook performs the following functions: \n\n    - Publish the files `diabetic_data.csv` and `patient_data.csv` into a specified catalog. \n    - Read mappings from **hospital-readmission-prediction-map-terms.csv** and applies business terms to the published dataset headers.\n\n\n### Jobs\nNavigate to **Jobs** tab to execute following jobs in sequence. <br>\n**1-data-preprocessing-notebook-job**: Runs the `1-data-preprocessing` notebook end to end. <br>\n**2-model-training-and-deployment-notebook-job**: Runs the `2-model-training-and-deployment` notebook end to end. <br>\n**3-shiny-app-deployment-notebook-job**: Runs the `3-shiny-app-deployment` notebook end to end.\n\n\n<a id=\"dashboard\"></a>\n## R Shiny dashboard\nHospital Readmission Prediction dashboard includes various set of visualizations to understand risk of readmissions in diabetic patients within 30 days of discharge. The dashboard has the following tabs:\n\n**Home**: Home tab contains charts and tables to display low, medium and high risk risk patients. It also consists of visualizations to understand admission and readmission risks in different age groups, payer types and patients discharge disposition. When clicked on a a patient in a data table, the dashboard navigates to Patient View. <br>\n**Patient View**: Patient View tab provides details for individual patients clicked in the home tab. Patient view tab displays patients personal and health records, various test results, diagnoses types, time in hospital etc. This tab includes a button to predict readmission probability for the patient. Additionaly, this probability will be explained with a chart using `Explanation` button on the screen. <br>\n\n<a id=\"glossary\"></a>\n## Business glossary for use with Watson Knowledge Catalog\nOptionally, you can import the glossary of business terms into Watson Knowledge Catalog to get started on data governance using the below files available in the project tar file. <br>\nThe `hospital-readmission-prediction-glossary-categories.csv` file defines the main and sub categories for the business terms. <br>\nThe `hospital-readmission-prediction-glossary-terms.csv` file defines the business terms, category of the business terms and their Related Terms/Part of Terms, if applicable. <br>\n\nOnce the glossary is imported into Watson Knowledge Catalog, Navigate to **Governance > Categories > Industry Accelerator > Hospital Re-Admission Prediction** to explore the glossary contents. \n\n### Terms and Conditions\nThis project contains Sample Materials, provided under license. <br>\nLicensed Materials - Property of IBM. <br>\nÂ© Copyright IBM Corp. 2021, 2022. All Rights Reserved. <br>\nUS Government Users Restricted Rights - Use, duplication or disclosure restricted by GSA ADP Schedule Contract with IBM Corp.<br><br/>\n\n### Citation\nThe \"Diabetes 130-US hospitals for years 1999-2008\" dataset used in this accelerator is licensed under a Creative Commons Attribution 4.0 International (CC BY 4.0) license. https://creativecommons.org/licenses/by/4.0/legalcode\nClore, John, Cios, Krzysztof, DeShazo, Jon & Strack, Beata. (2014). Diabetes 130-US hospitals for years 1999-2008. UCI Machine Learning Repository.\n"}
